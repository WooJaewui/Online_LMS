
 데이터베이스 정규화 기법.



 # 정규화의 장 단점.

장점.
데이터 중복을 제거하여 데이터 모델의 유연성을 향상시킨다.
이상현상을 제거하여 데이터베이스의 무결성을 유지한다.

단점.
중복을 제거하기 때문에 테이블의 갯수가 증가한다.
테이블 갯수가 증가하면 JOIN을 많이 하게 되어 성능을 저하시킨다.

단점 해결 방법.
반정규화를 통해 필요한 중복을 추가한다.



 # 정규화 모델의 특징.

개체 관계의 정확성.
데이터 일치성.
데이터 모델의 단순성.
개체에 존재하는 속성의 비중복성.



 # 관계형 DB 설계의 가이드라인.

서로 다른 개체 타입들을 하나로 혼합하지 말 것.
중복이나 갱신 부작용이 발생하지 않게 할 것.
널 값 발생을 될 수 있는 한 피할 것.
위조 튜플( Spurious Tuple ) 들의 발생을 피할 것.

설명.
위조튜플 : A와 B를 JOIN 해서 C를 만들어 낼 때 C에서 A,B와 상관없는 데이터가 나오는 경우.



 # 이상 현상.

삽입 이상 : 내가 추가하려는 데이터 이외에 다른 데이터도 삽입해야 되는 이상.
삭제 이상 : 내가 삭제하려는 데이터 이외에 데이터가 삭제 되는 이상.
갱신 이상 : 내가 갱신하려는 데이터 변경 시 여러번 변경해야 되는 이상.



 # 제 1 정규형.

정의.
어떤 릴레이션( 테이블 ) R에 속한 모든 도메인이 원자 값( Atomic Value )만으로 구성.

용어.
원자 값 : 컬럼( 속성 )의 값이 한 개인 경우를 의미한다.
완전 함수 종속 : 복합키 속성 모두가 다른 속성을 종속하는 경우.
                     이상 현상이 발생하지 않는다.
부분 함수 종속 : 복합키 속성 중 일부만 다른 속성을 종속하는 경우.
                     이상 현상이 발생할 수 있다.

설명.
모든 정규화 릴레이션은 제 1정규형에 속한다.
제 1 정규형에서 이상현상이 발생했을 때만 제 2 정규형으로 정규화한다.

문제점.
부분 함수 종속일 때, 이상 현상이 발생한다. ( 이상 현상 발생 시 제 2 정규형으로 정규화 )



 # 제 2 정규형.

정의.
어떤 릴레이션( 테이블 ) R이 제 1 정규형이고, 
키에 속하지 않은 속성 모두가 기본 키에 완전 함수 종속이다. ( 부분 함수 종속 제거 )

설명.
제 2 정규형은 부분 함수 종속을 제거하여 완전 함수 종속만 남도록 하는 것이다.
﻿부분 함수 종속을 새로운 테이블을 생성해서 완전 함수 종속으로 만들어준다.

문제점.
이행적 함수 종속 관계 A->B, B->C 이면 A->C가 성립하는데, 이 부분에서 이상현상이 발생.



 # 제 3 정규형.

정의.
어떤 릴레이션( 테이블 ) R이 제 2 정규형이고,
이행적 함수 종속을 제거한다.

설명.
제 2 정규형에서 이상 현상을 발생시키는 이행적 함수 종속 관계를 모두 제거한다.

문제점.
제 1 ~ 3 정규형( 1~3NF )은 모두 하나의 기본 키만 가진 것으로 가정하였다.
복수의 후보 키를 가지고 있고, 후보 키의 속성들이 서로 중첩되는 경우 적용할 수가 없다.
이러한 경우 BCNF 로 정규화 한다.



 # BCNF ( Boyce Codd Normal Form )

정의.
릴레이션 R의 모든 결정자( Determinant )가 후보 키( Candidate Key )로 지정.

설명.
강한 제 3 정규형( Strong 3NF )이라고도 한다.
결정자를 기본키로 바꿔주면 된다.
여기까지가 보통 실무에서 사용되는 정규형이다.



 # 제 4 정규형.

정의.
릴레이션 R에 모든 다치 종속 제거.

용어.
다치 종속( MVD - Multivalued Dependency ) 
: A라는 키가 여러 B의 값을 결정하고, 여러 C의 값을 결정하는 것.



 # 제 5 정규형.

정의.
릴레이션  R에 존재하는 모든 조인 종속이 후보 키를 통해서만 성립.
조인 종속을 제거.



 # 정리.

비정규 릴레이션 -> 모든 속성에 값이 1개( 원자값 ) 
-> 제 1 정규형 -> 부분 함수 종속 제거.
-> 제 2 정규형 -> 이행적 함수 종속 제거.
-> 제 3 정규형 -> 모든 결정자는 후보키.
-> BCNF -> 다치 종속 제거.
-> 제 4 정규형 -> 조인 종속 제거.
-> 제 5 정규형.



























