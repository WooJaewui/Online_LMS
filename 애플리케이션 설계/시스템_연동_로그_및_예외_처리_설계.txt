
시스템 연동 로그 및 예외 처리 설계.



 # 대내 시스템 연동 로그 및 예최 처리 설계.

EAI 로그 처리 방안.
EAI 거래별 처리 상태를 로그에 남기고, 모니터링 시스템에서 조회.

로그 레벨.
Debug 모드 : 모든 로그 항목을 남김. ( 에러, Data 모두 저장 용량이 크다 - 버그 발생시 사용 )
Info 모드 : 전문을 제외한 모든 항목을 남김. ( 용량이 상대적으로 적다 - 운영시 사용 )

로깅 항목.
Time : 로그 발생 시점.
Loglevel : 로그 레벨. ( Debug, Info ) 
Source : 로그 발생 구간.
ThreadID : Thread ID.
AdapterID : 어댑터이름.
IFID : 인터페이스 ID
Detail : 로그 내용.

오류 처리 원칙.
시스템 장애 시 Retry 횟수를 설정하여 자동 Retry함.
Retry 후 오류가 발생한 데이터를 오류 로그에 적재 후 재처리 프로세스에 따라 재처리함.

고려 사항.
시스템 장애 시 Retry 횟수.
재처리 기준 정의.

오류 구분.
시스템 오류, Data 오류, 중복데이터.



 # 대외 시스템 연동 로그 및 예외 처리 설계.

ESB 장애 대응 패턴.
장애 시 대체 서비스 호출, 자동 취소 처리, 사후 처리 등의 기능을 제공함.

대세 서비스 호출.
업무적으로 대체 가능 서비스이어야 함.
다른 도메인에 위치하여야 한다. 

Skip 후 진행 처리.
시스템 관리자가 Skip Flag를 켜면 다음 처리를 계속 수행함.

비동기 오류 시 관리자 재처리.
오류를 Error Q에 저장하고 재처리를 시도한다.






